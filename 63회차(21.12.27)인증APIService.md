# 인증APIService

✔︎ **인증**: 회원가입, 로그인, 로그아웃, 탈퇴 등의 사용자 관리를 모두 포함한다.

## **회원가입**

- id(email), password를 담아서 서버에 보낸다. (POST)

- **유효성검사**

​		: 이미 가입된 이메일, 서버의 문제로 지금은 사용할 수 없음 등의 유효성을 서버에서 검사한다.

​		(email의 형식, pw의 규칙 등은 클라이언트(app개발자)가 미리 처리한다.)

- **보안**

​		예를 들어 사용자의 암호가 1234라고 할 때, 서버에 그대로 저장한다면 **보안의 문제 있음**.

​		👉**암호화**: 클라이언트에서 한 번 암호화, 서버가 한번 더 암호화를 하는 등 방법 다양

​			✔︎ 기본적으로 암호화를 했을 때에는 이상한 문자열로 변환해서 저장하고, **역추적이 불가**한 것이 특징

​		보안을 위해서

​			✔︎ 서버를 관리하는 모든 개발자에게 인증을 열어두는 것은 아니다.

​			✔ (특정계정, 특정 장소, 특정 기기에서만 인증 서버에 접속할 수 있는 등의 조치 O)

​				**(지금은 암호화에 대한 것이 핵심은 아니기 때문에 암호화하지 않고 실습할 것임)**

- 이메일/패쓰워드를 서버에 보내면, **토큰**과 **응답값**를 보냄.
- **회원**이라는 것은 _**토큰**_을 가지고 있다는 것을 의미한다.



## token

- 사용자를 구분

- 일정 시간이 지나면 서버에서 교체를 하고, 갱신 요청을 한다.

  - ex. "로그인 정보가 만료되었습니다. 다시 로그인을 해주세요."
  - 잘만든 서비스는: 위의 안내 없이 알아서 토크인을 갱신한다.

- 한가지 기기에서만 로그인이 허용되는 경우에는 토큰을 관리하는 경우일 수 있다.

- 일반적으로는 유저 디폴트에 값을 저장하고, 앱을 지우지 않는 한 api등을 요청할 때 토큰 값을 포함해서 전달한다.

  

- insomnia에서 실습하기

  - query에 넣으면 url 뒤에 추가되어 노출될 우려가 크기 때문에, Form URL Encoded를 사용해서 정보 post

